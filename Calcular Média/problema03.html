<!doctype html>
<html lang ="pt-br">
    <head>
        <title> Exercício Calcular Média</title>
        <meta charset="utf-8">
        <meta name="author" content="Laís Tavares">
        <meta name="description" content="modelo base">
        <meta name="keyworlds" content="html, base, tecnologia, udemy">

        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/bootstrap-theme.css" rel="stylesheet">

        <script src="primeiro.js"></script>
    </head>

    <body>

        <div class="container">
            <h1> Calcular Média</h1>
        </div>

        <section>
            <div class="container">
                <h2>Média dos Alunos</h2>
                <table class="table js-table">
                    <thred>
                        <tr>
                            <th>Nome</th>
                            <th>Nota 1</th>
                            <th>Nota 2</th>
                            <th>Nota 3</th>
                            <th>Nota 4</th>
                            <th>Média</th>
                        </tr>
                    </thred>
                    <tbody>
                        <tr class="aluno">
                            <td class="aluno-nome">Gertrude</td>
                            <td class="aluno-n1">10</td>
                            <td class="aluno-n2">8.5</td>
                            <td class="aluno-n3">9</td>
                            <td class="aluno-n4">7.5</td>
                            <td class="aluno-m"></td>
                        </tr>

                        <tr class="aluno">
                            <td class="aluno-nome">Rey</td>
                            <td class="aluno-n1">0</td>
                            <td class="aluno-n2">8.5</td>
                            <td class="aluno-n3">6.5</td>
                            <td class="aluno-n4">7.5</td>
                            <td class="aluno-m"></td>
                        </tr>

                        <tr class="aluno">
                            <td class="aluno-nome">Jessilda</td>
                            <td class="aluno-n1">7</td>
                            <td class="aluno-n2">0</td>
                            <td class="aluno-n3">9.5</td>
                            <td class="aluno-n4">8</td>
                            <td class="aluno-m"></td>
                        </tr>

                        <tr class="aluno">
                            <td class="aluno-nome">Lindóia</td>
                            <td class="aluno-n1">10</td>
                            <td class="aluno-n2">10</td>
                            <td class="aluno-n3">10</td>
                            <td class="aluno-n4">10</td>
                            <td class="aluno-m"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <script>
            (function(){
                var trs = document.querySelectorAll('.js-table tbody .aluno');

                var x = 0;

                while(trs[x]){
                    var linhaAluno = trs[x];

                    var tds = linhaAluno.querySelectorAll('td');

                    var notas = recNumColunas(tds);
                   
                    
                    var zero = notas.some( nota =>  nota === 0);

                    var message = zero ? 'Reprovado': //operador ternário (expressão ? bloco verdade : bloco mentira)
                    calcularMedia.apply(this, notas);
                    

                    linhaAluno.querySelector('.aluno-m').textContent = message;

                    x++;
                }

                function recNumColunas(tds){
                    var x = 0;
                    var arr = [] ;
                    while(tds[x]){
                        if(!isNaN (tds[x].textContent) && tds[x].textContent !== ''){
                            arr.push(parseFloat(tds[x].textContent));
                        }
                        x++;
                    }

                    return arr;
                }

            })()
        </script>
    </body>
</html>